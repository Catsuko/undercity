{"id":"undercity-049","title":"Create Spinner module with core animation logic","description":"Create UndercityCli.Spinner module with: braille frames, color cycling via Bunt, GenServer-based animation loop running in separate process. API: start/1, update/1, stop/1","status":"closed","priority":0,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-05T23:07:08.773222+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T23:12:42.360641+10:00","closed_at":"2026-02-05T23:12:42.360641+10:00","close_reason":"Spinner module created with braille animation, color cycling, thematic messages, and retry feedback","dependencies":[{"issue_id":"undercity-049","depends_on_id":"undercity-v04","type":"parent-child","created_at":"2026-02-05T23:15:51.4432601+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-0b9","title":"Design initial data model","description":"Define the core data structures for the MVP: Tile (name, biome, description, player list), Player (name, current tile), and WorldMap config (tile definitions, adjacency map). No AP, inventory, or combat stats in initial scope. This is a discussion/design task — agree on struct shapes before implementing. Reference undercity-ovm for full game mechanics context.","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-30T23:00:52.6256252+10:00","created_by":"Lewis Reid","updated_at":"2026-02-02T01:08:50.76766+10:00","closed_at":"2026-02-02T01:08:50.76766+10:00","close_reason":"Closing in favour of implementing data model incrementally through user-story-driven tasks. Relevant context: Core structs are Tile (name, biome, description, player list), Player (name, current tile), WorldMap (tile definitions, adjacency). No AP/inventory/combat in initial scope. See undercity-ovm for full game mechanics.","dependencies":[{"issue_id":"undercity-0b9","depends_on_id":"undercity-ovm","type":"blocks","created_at":"2026-01-30T23:02:31.1248342+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-0b9","depends_on_id":"undercity-uju","type":"parent-child","created_at":"2026-02-06T00:31:09.0182627+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-0kh","title":"Investigate and configure Elixir linting/static analysis","description":"Research linting options for Elixir (Credo, Dialyzer, etc.). Elixir has built-in mix format for formatting but may need additional tooling for linting and static analysis. Evaluate options, pick one, and configure it for the project.","status":"closed","priority":3,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:34:58.2663406+10:00","created_by":"Lewis Reid","updated_at":"2026-01-31T00:35:59.8258243+10:00","closed_at":"2026-01-31T00:35:59.8258243+10:00","close_reason":"Merged into undercity-chi"}
{"id":"undercity-0ou","title":"Implement Tile GenServer and Registry","description":"Create the Tile GenServer that holds tile state (name, biome, description, player list) and register each tile in an Elixir Registry by name. Handle add_player, remove_player, and get_state calls.","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:55:49.7531323+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T16:43:19.0149235+10:00","closed_at":"2026-02-05T16:43:19.0149235+10:00","close_reason":"Deleting pre-uju subtasks - will re-plan 4ah after uju establishes foundation","dependencies":[{"issue_id":"undercity-0ou","depends_on_id":"undercity-9xn","type":"blocks","created_at":"2026-01-31T00:58:06.5287917+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-0ou","depends_on_id":"undercity-1do","type":"blocks","created_at":"2026-01-31T00:58:07.0598411+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-0ou","depends_on_id":"undercity-4ah","type":"parent-child","created_at":"2026-02-06T00:32:00.3355713+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-1do","title":"Design WorldMap config structure","description":"Define the static configuration for the game world. Must hold: tile definitions (name, biome, description for each tile) and adjacency map (which tiles connect to which, with directions). This is the data that bootstraps the 3x3 grid on server start.","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:50:24.4471991+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T16:43:09.2328869+10:00","closed_at":"2026-02-05T16:43:09.2328869+10:00","close_reason":"Deleting pre-uju subtasks - will re-plan 4ah after uju establishes foundation","dependencies":[{"issue_id":"undercity-1do","depends_on_id":"undercity-0b9","type":"blocks","created_at":"2026-01-31T00:50:35.7765723+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-1do","depends_on_id":"undercity-4ah","type":"parent-child","created_at":"2026-02-06T00:32:00.9011069+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-2wt","title":"Investigate :global.sync() usage and alternatives","description":"Server.connect/2 currently calls :global.sync() after Node.connect to ensure global name registration is synchronized before the GenServer.call. This works but is a blocking call that waits for all nodes to sync. Investigate whether this is the best approach or if there are better alternatives (e.g. retrying the GenServer.call, using :global.whereis_name with a poll, or restructuring to avoid the race). Also consider implications as cluster size grows — :global.sync() could become slow with many nodes.","notes":"Replaced :global.sync() with RPC-based approach:\n\n- Server now registers with local Registry instead of :global\n- connect/2 checks local Registry first (for tests/same-node), falls back to RPC\n- No changes needed to CLI commands or mix tasks\n- Trade-off: loses automatic process migration if server moves nodes, but acceptable for current single-server architecture","status":"closed","priority":3,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-02T01:03:50.1038054+10:00","created_by":"Lewis Reid","updated_at":"2026-02-04T22:38:46.9455163+10:00","closed_at":"2026-02-04T22:38:46.9455163+10:00","close_reason":"Replaced :global.sync() with local Registry + RPC approach. Changes committed to branch 2wt-rpc-connect.","dependencies":[{"issue_id":"undercity-2wt","depends_on_id":"undercity-uju","type":"parent-child","created_at":"2026-02-06T00:31:09.6093594+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-39t","title":"Configure Dialyzer for static type checking","status":"open","priority":4,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-01T10:18:38.8062824+10:00","created_by":"Lewis Reid","updated_at":"2026-02-01T22:17:50.4497488+10:00"}
{"id":"undercity-3i3","title":"Rewrite app READMEs with purpose descriptions","description":"Replace the generated placeholder READMEs in apps/undercity_core and apps/undercity_cli with simple descriptions of each app's purpose.","status":"closed","priority":3,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:44:42.769895+10:00","created_by":"Lewis Reid","updated_at":"2026-02-01T22:46:08.7355403+10:00","closed_at":"2026-02-01T22:46:08.7355403+10:00","close_reason":"Already done as part of qjl boilerplate cleanup."}
{"id":"undercity-4ah","title":"MVP CLI game - 3x3 grid with player movement","description":"Implement the MVP game: a 3x3 grid of named tiles, CLI client that spawns a player on the middle tile, player can move between tiles and see descriptions of current + adjacent tiles. No zombies, no AP, no inventory, no combat. Server runs in one terminal, CLI clients connect from other terminals.","notes":"TODO: Reconcile terminology with uju - we settled on 'Block' (not 'Tile' or 'Room') for the areas players occupy. Update sub-tasks and design docs accordingly.","status":"open","priority":2,"issue_type":"feature","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:53:05.5886473+10:00","created_by":"Lewis Reid","updated_at":"2026-02-06T00:26:56.3979958+10:00","dependencies":[{"issue_id":"undercity-4ah","depends_on_id":"undercity-uju","type":"blocks","created_at":"2026-02-05T16:40:31.4027683+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-5m2","title":"Investigate .formatter.exs in Elixir","description":"Research what .formatter.exs does in Elixir projects, how to configure it, and how it integrates with mix format. Document findings in the task notes.","status":"open","priority":3,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:44:36.1649001+10:00","created_by":"Lewis Reid","updated_at":"2026-01-31T00:44:36.1649001+10:00"}
{"id":"undercity-67e","title":"Document branching convention in CLAUDE.md","description":"Add branching convention to CLAUDE.md. Branches should be named based on the beads task ID plus a descriptor, e.g. undercity-shm-scaffold-umbrella. Document this so it's followed consistently.","status":"closed","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:37:37.5953608+10:00","created_by":"Lewis Reid","updated_at":"2026-02-01T10:50:50.3925727+10:00","closed_at":"2026-02-01T10:50:50.3925727+10:00","close_reason":"Closed"}
{"id":"undercity-6f8","title":"Discuss undercity concept and plan initial steps","notes":"## Concept Summary\n\n- **Genre**: Multiplayer persistent text game (browser + CLI)\n- **Setting**: Dark medieval world, zombie apocalypse. Tone of Berserk / Between Two Fires — grim, grounded, not heroic\n- **Players**: Survivors with open-ended roles (trade, steal, help, fight, hide — DayZ style emergent gameplay)\n- **Undead**: Ever-present environmental threat, dumb but dangerous. Not the strategic focus\n- **Core loop**: Log in, spend limited actions (explore, scavenge, interact), log out. ~30 min daily sessions\n- **UI**: Text-heavy grid map showing current + adjacent areas, descriptions, action menus. Simple enough for CLI rendering\n- **Multiplayer**: Shared persistent world, player-to-player interaction (trade, conflict, cooperation)","status":"closed","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-30T22:55:55.7814969+10:00","created_by":"Lewis Reid","updated_at":"2026-01-30T23:18:01.4632549+10:00","closed_at":"2026-01-30T23:18:01.4632549+10:00","close_reason":"Closed"}
{"id":"undercity-72t","title":"Implement game facade API","description":"Create the public API module on undercity_core that clients call into. MVP actions: join (spawn player on starting tile), move (change tile), look (get current tile + adjacent tile info). This is the boundary between core and clients.","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:56:02.5610541+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T16:43:19.0241321+10:00","closed_at":"2026-02-05T16:43:19.0241321+10:00","close_reason":"Deleting pre-uju subtasks - will re-plan 4ah after uju establishes foundation","dependencies":[{"issue_id":"undercity-72t","depends_on_id":"undercity-9xn","type":"blocks","created_at":"2026-01-31T00:58:08.2031286+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-72t","depends_on_id":"undercity-da4","type":"blocks","created_at":"2026-01-31T00:58:08.6955877+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-72t","depends_on_id":"undercity-1do","type":"blocks","created_at":"2026-01-31T00:58:09.1855698+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-72t","depends_on_id":"undercity-4ah","type":"parent-child","created_at":"2026-02-06T00:32:01.9869689+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-78q","title":"Integrate spinner into connection flow","description":"Wire up Spinner to GameServer.connect - start spinner before connection, update on retries, stop with success/failure state","status":"closed","priority":0,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-05T23:07:19.4532935+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T23:16:56.3628134+10:00","closed_at":"2026-02-05T23:16:56.3628134+10:00","close_reason":"Integrated spinner into join task with retry callback support","dependencies":[{"issue_id":"undercity-78q","depends_on_id":"undercity-v04","type":"parent-child","created_at":"2026-02-05T23:15:51.8848338+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-7h0","title":"Implement mix undercity.join with CLI game loop","description":"Replace the stub join mix task with a real implementation. The CLI starts a BEAM node, connects to the server node via Erlang distribution (--sname + shared cookie), prompts for player name, spawns on the starting tile, and enters an interactive game loop. The client holds its own current tile name locally and updates it on movement. Player can type commands (move north/south/etc, look) and see: current tile description, adjacent tile names/biomes (9-tile visibility bubble), and other players on current + adjacent tiles. Usage: mix undercity.join --server my_server --player lewis","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:56:14.8113022+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T16:43:19.0332514+10:00","closed_at":"2026-02-05T16:43:19.0332514+10:00","close_reason":"Deleting pre-uju subtasks - will re-plan 4ah after uju establishes foundation","dependencies":[{"issue_id":"undercity-7h0","depends_on_id":"undercity-72t","type":"blocks","created_at":"2026-01-31T00:58:10.7460971+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-7h0","depends_on_id":"undercity-asa","type":"blocks","created_at":"2026-01-31T00:58:11.2699253+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-7h0","depends_on_id":"undercity-4ah","type":"parent-child","created_at":"2026-02-06T00:32:02.5985341+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-9eq","title":"Set up GitHub Actions CI workflow","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-01T10:18:55.194629+10:00","created_by":"Lewis Reid","updated_at":"2026-02-01T10:23:32.1993786+10:00","closed_at":"2026-02-01T10:23:32.1993786+10:00","close_reason":"Not selected for this round","dependencies":[{"issue_id":"undercity-9eq","depends_on_id":"undercity-chi","type":"blocks","created_at":"2026-02-01T10:19:13.7442389+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-9v4","title":"Fix CRLF line endings across project","description":"mix format --check-formatted fails on many files due to CRLF (Windows) line endings. The formatter expects LF. Affected files include mix.exs, config/config.exs, app mix.exs files, test files, and module files that haven't been reformatted yet. This causes mix lint to fail before credo even runs.\n\nRoot cause: git is checking out files with CRLF on Windows (git config core.autocrlf is likely true or not set). The Elixir formatter normalizes to LF, so any file that hasn't been through mix format will fail.\n\nFix options:\n1. Add a .gitattributes file with '* text=auto eol=lf' to force LF in the repo\n2. Run 'mix format' across all files to normalize, then commit\n3. Both — .gitattributes prevents recurrence, format fixes existing files\n\nFiles currently failing:\n- mix.exs\n- config/config.exs\n- apps/undercity_core/mix.exs\n- apps/undercity_core/test/undercity_core_test.exs\n- apps/undercity_core/lib/undercity_core.ex (was fixed this session but will recur on fresh checkout)\n- apps/undercity_cli/mix.exs\n- apps/undercity_cli/test/undercity_cli_test.exs\n- apps/undercity_cli/lib/undercity_cli.ex\n\nNote: During this session, every time we edited a file we had to run mix format after to fix the CRLF issue introduced by git checkout restoring CRLF endings.","notes":"Previous attempt in bead ncy (Configure Credo) added .gitattributes with eol=lf and normalized line endings. This was merged in PR #3 (commit 6a6803d 'add mix lint alias and normalize line endings'). However the fix didn't fully stick — files are still being checked out with CRLF on Windows. The .gitattributes may not be configured correctly, or git's core.autocrlf setting on this machine is overriding it. Need to investigate why the previous .gitattributes fix from ncy isn't working.","status":"closed","priority":1,"issue_type":"bug","owner":"lreidwilliams@gmail.com","created_at":"2026-02-02T00:07:46.8585045+10:00","created_by":"Lewis Reid","updated_at":"2026-02-04T23:43:12.2362259+10:00","closed_at":"2026-02-04T23:43:12.2362259+10:00","close_reason":"Closed"}
{"id":"undercity-9xn","title":"Design Tile struct","description":"Define the data structure for a tile in the game world. MVP fields: name (unique key), biome, description, list of current player names. Consider what the GenServer state will look like.","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:50:12.1167862+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T16:43:09.2556776+10:00","closed_at":"2026-02-05T16:43:09.2556776+10:00","close_reason":"Deleting pre-uju subtasks - will re-plan 4ah after uju establishes foundation","dependencies":[{"issue_id":"undercity-9xn","depends_on_id":"undercity-0b9","type":"blocks","created_at":"2026-01-31T00:50:33.8644017+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-9xn","depends_on_id":"undercity-4ah","type":"parent-child","created_at":"2026-02-06T00:32:03.191767+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-asa","title":"Implement mix undercity.server to boot game world","description":"Replace the stub server mix task with a real implementation. The server starts a named BEAM node (using --sname and a shared cookie for Erlang distribution), boots the OTP supervision tree (TileSupervisor, TileRegistry, all 9 tile GenServers from WorldMap config), and keeps the node running. CLI clients connect to this node from separate terminals. Usage: mix undercity.server --name my_server","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:56:08.6959546+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T16:43:19.0430361+10:00","closed_at":"2026-02-05T16:43:19.0430361+10:00","close_reason":"Deleting pre-uju subtasks - will re-plan 4ah after uju establishes foundation","dependencies":[{"issue_id":"undercity-asa","depends_on_id":"undercity-0ou","type":"blocks","created_at":"2026-01-31T00:58:09.7341705+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-asa","depends_on_id":"undercity-bc0","type":"blocks","created_at":"2026-01-31T00:58:10.2376385+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-asa","depends_on_id":"undercity-4ah","type":"parent-child","created_at":"2026-02-06T00:32:03.8049325+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-ayb","title":"Choose language and tech stack","description":"Decide on the programming language and key libraries for the CLI version. Consider: language suitability for later porting to browser (e.g. TypeScript/Node works for both CLI and web), ease of text-based UI, state management approach, and data persistence story.","notes":"## Tech Stack Decision\n\n- **Language**: Elixir\n- **Core**: Elixir/OTP — game logic, state, world simulation\n- **Client (initial)**: CLI client in Elixir\n- **Persistence**: None initially, add later\n- **Web client**: Phoenix later, not in initial scope\n- **Architecture**: Core separated from client frontends — core is the authority, clients are thin\n\n### Rationale\nOTP supervision trees map naturally to game world entities (tiles, zombies, weather). Actor model suits concurrent independent processes. Fault tolerance built in. Clean path from CLI to web client without changing the core.\n\n### Deferred decisions (to explore in technical design)\n- Process architecture (tile GenServers, player processes, etc.)\n- AP recharge mechanism\n- Client-core interface (same node vs network protocol)\n- Persistence layer","status":"closed","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-30T23:00:29.295408+10:00","created_by":"Lewis Reid","updated_at":"2026-01-30T23:42:54.7272926+10:00","closed_at":"2026-01-30T23:42:54.7272926+10:00","close_reason":"Closed","dependencies":[{"issue_id":"undercity-ayb","depends_on_id":"undercity-ovm","type":"blocks","created_at":"2026-01-30T23:02:19.8120356+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-bc0","title":"Implement WorldMap module with 3x3 grid config","description":"Create a module that defines the static 3x3 map: 9 named tiles with biomes, descriptions, and an adjacency map (which tiles connect in which directions). This config is used to boot the tile processes and validate movement.","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:55:55.844491+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T16:43:19.0525202+10:00","closed_at":"2026-02-05T16:43:19.0525202+10:00","close_reason":"Deleting pre-uju subtasks - will re-plan 4ah after uju establishes foundation","dependencies":[{"issue_id":"undercity-bc0","depends_on_id":"undercity-1do","type":"blocks","created_at":"2026-01-31T00:58:07.7009242+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-bc0","depends_on_id":"undercity-rw0","type":"blocks","created_at":"2026-01-31T00:58:11.7767307+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-bc0","depends_on_id":"undercity-4ah","type":"parent-child","created_at":"2026-02-06T00:32:04.3994539+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-chi","title":"Configure dev tooling (formatter, credo, tests)","description":"Set up Elixir dev tooling for the project: mix format config, credo for linting, ExUnit test structure. Ensure CI-friendly from the start.","notes":"Investigate linting/static analysis options (Credo, Dialyzer, etc.). Elixir has built-in mix format for formatting but may need additional tooling. Evaluate options, pick one, and configure.","status":"closed","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-30T23:42:21.1268163+10:00","created_by":"Lewis Reid","updated_at":"2026-02-01T22:18:59.9655362+10:00","closed_at":"2026-02-01T22:18:59.9655362+10:00","close_reason":"Formatter, Credo, lint alias, and line endings all configured. Dialyzer backlogged separately.","dependencies":[{"issue_id":"undercity-chi","depends_on_id":"undercity-shm","type":"blocks","created_at":"2026-01-30T23:42:45.2273858+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-chi","depends_on_id":"undercity-ncy","type":"blocks","created_at":"2026-02-01T10:25:35.7888684+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-chi","depends_on_id":"undercity-39t","type":"blocks","created_at":"2026-02-01T10:25:35.9925071+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-chi","depends_on_id":"undercity-dkh","type":"blocks","created_at":"2026-02-01T10:25:36.1987517+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-chi","depends_on_id":"undercity-g9k","type":"blocks","created_at":"2026-02-01T10:25:36.4048351+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-da4","title":"Design Player struct","description":"Define the data structure for a player. MVP fields: name, current tile name. Players are just data stored on tiles for now, no player processes. Consider what gets sent to/from the CLI.","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:50:18.3334258+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T16:43:09.2795924+10:00","closed_at":"2026-02-05T16:43:09.2795924+10:00","close_reason":"Deleting pre-uju subtasks - will re-plan 4ah after uju establishes foundation","dependencies":[{"issue_id":"undercity-da4","depends_on_id":"undercity-0b9","type":"blocks","created_at":"2026-01-31T00:50:34.9326017+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-da4","depends_on_id":"undercity-4ah","type":"parent-child","created_at":"2026-02-06T00:32:04.9854345+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-djt","title":"Investigate :global.sync() usage and alternatives","description":"Server.connect/2 currently calls :global.sync() af…","status":"tombstone","priority":3,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-02T01:11:51.7663732+10:00","created_by":"Lewis Reid","updated_at":"2026-02-02T01:12:39.2582839+10:00","deleted_at":"2026-02-02T01:12:39.2582839+10:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"undercity-dkh","title":"Set up mix format configuration and aliases","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-01T10:18:44.2590104+10:00","created_by":"Lewis Reid","updated_at":"2026-02-01T16:32:50.7894353+10:00","closed_at":"2026-02-01T16:32:50.7894353+10:00","close_reason":"Default formatter config is sufficient for now"}
{"id":"undercity-dko","title":"Investigate @shortdoc in Elixir mix tasks","description":"Research what @shortdoc does in Elixir mix tasks, how it differs from @moduledoc, and when to use it. Document findings in the task notes.","status":"open","priority":3,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:44:23.7129806+10:00","created_by":"Lewis Reid","updated_at":"2026-01-31T00:44:23.7129806+10:00"}
{"id":"undercity-ey8","title":"Reconnecting - existing players resume instead of respawning","status":"open","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-05T16:37:27.2850083+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T16:37:27.2850083+10:00","dependencies":[{"issue_id":"undercity-ey8","depends_on_id":"undercity-mer","type":"blocks","created_at":"2026-02-05T16:37:38.1059702+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-ey8","depends_on_id":"undercity-rjp","type":"blocks","created_at":"2026-02-05T16:37:38.3046719+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-ey8","depends_on_id":"undercity-uju","type":"parent-child","created_at":"2026-02-06T00:31:06.765613+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-g9k","title":"Add Mix aliases for common dev tasks","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-01T10:19:02.5681365+10:00","created_by":"Lewis Reid","updated_at":"2026-02-01T22:14:04.1988674+10:00","closed_at":"2026-02-01T22:14:04.1988674+10:00","close_reason":"Already covered by the lint alias added in ncy. No additional aliases needed at this time."}
{"id":"undercity-hit","title":"Enhance ExUnit test structure and helpers","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-01T10:18:49.6673417+10:00","created_by":"Lewis Reid","updated_at":"2026-02-01T10:23:31.8698173+10:00","closed_at":"2026-02-01T10:23:31.8698173+10:00","close_reason":"Not selected for this round","dependencies":[{"issue_id":"undercity-hit","depends_on_id":"undercity-chi","type":"blocks","created_at":"2026-02-01T10:19:13.543035+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-lta","title":"Design OTP process architecture","description":"Plan the supervision tree and process model for the game world. Decide on: tile GenServers, player processes, zombie behavior loop, AP recharge mechanism, and how these processes interact. Reference mechanics from undercity-ovm.","notes":"## OTP Process Architecture (MVP)\n\n### Scope\n3x3 grid, player movement, tile viewing. No zombies, no AP, no inventory, no persistence.\n\n### Supervision Tree\n```\nApplication\n├── TileRegistry        — Elixir Registry, tiles keyed by unique name (e.g. \"town_square\")\n└── TileSupervisor\n    ├── Tile(\"town_square\") ... 9 tile GenServers\n```\n\n### Tile GenServer\n- Holds: name, biome, description, list of player names currently present\n- Looked up via Registry by tile name\n- Handles: add_player, remove_player, get_state\n\n### Grid / Adjacency\n- Tiles have unique names, not coordinates\n- Adjacency defined in a static map config (which tile connects to which)\n- Movement validated against adjacency map\n\n### CLI Client\n- Holds its own current tile name locally\n- On connect: spawns on a starting tile (e.g. \"town_square\"), tells tile to add player\n- On move: calculates target from adjacency map, tells old tile to remove, new tile to add, updates local position\n- On look: queries current tile + adjacent tiles via Registry\n- On disconnect: tells current tile to remove player\n\n### Future Additions (not in MVP)\n- GameServer / player registry for persistence and reconnection\n- Player processes for AP, inventory, HP\n- ZombieManager process\n- Player location lookup process for multi-node","status":"closed","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-30T23:42:15.1678049+10:00","created_by":"Lewis Reid","updated_at":"2026-01-31T00:03:34.9868124+10:00","closed_at":"2026-01-31T00:03:34.9868124+10:00","close_reason":"Closed"}
{"id":"undercity-mer","title":"Joining a room","description":"We want to support joining the world as a player, being spawned in a block, and seeing its name, description, and list of players present. Players persist in the world even when not connected - there is no disconnect/logout concept.","design":"## Implementation Plan\n\n### Phase 1: Domain Models (undercity_core)\n\n**lib/undercity_core/player.ex**\n- Player struct: :id, :name\n\n**lib/undercity_core/block.ex**\n- Block struct: :id, :name, :description, :players (MapSet)\n- Pure functions: add_player/2, remove_player/2, list_players/1\n\n---\n\n### Phase 2: OTP Infrastructure (undercity_server)\n\n**lib/undercity_server/block.ex** (new GenServer)\n- Holds UndercityCore.Block as state\n- API: start_link/1, join/2, info/1\n- Registered via UndercityServer.Registry\n\n**lib/undercity_server/gateway.ex** (new module, not GenServer)\n- Entry point for player connections\n- API: enter/1 - creates player, spawns in block, returns block info\n\n**lib/undercity_server/application.ex** (modify)\n- Start default 'plaza' block on boot\n- Rename registry to UndercityServer.Registry\n\n**lib/undercity_server/game_server.ex** (remove)\n- Replaced by Gateway + Block\n\n---\n\n### Phase 3: CLI Integration (undercity_cli)\n\n**lib/mix/tasks/undercity.join.ex** (modify)\n- Only --player option needed\n- RPC call to Gateway.enter(player_name)\n- Display returned block info (name, description, players)\n- No disconnect - players persist in world\n\n---\n\n### Phase 4: Bootstrap Default Block\n\n**lib/undercity_server/application.ex**\n- Start 'plaza' block on server boot\n- Name: plaza, Description: The central gathering place of the undercity.\n- Gateway hardcodes plaza as spawn point for now","status":"open","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-02T01:13:04.6366+10:00","created_by":"Lewis Reid","updated_at":"2026-02-06T00:34:32.9609101+10:00","dependencies":[{"issue_id":"undercity-mer","depends_on_id":"undercity-r2m","type":"blocks","created_at":"2026-02-04T22:38:35.589211+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-mer","depends_on_id":"undercity-uju","type":"parent-child","created_at":"2026-02-06T00:31:07.3101854+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-mzw","title":"Design CLI client architecture and interaction model","description":"Define how the CLI client works: how it starts, connects to the core, handles user input, renders output, and manages its local state. Builds on the OTP architecture from undercity-lta.","notes":"## CLI Client Architecture\n\n### Connectivity\n- Erlang distribution via named nodes (--sname) and shared cookie\n- Server runs as a named BEAM node, CLI clients connect to it\n- Multiple CLI clients can connect to the same server from separate terminals\n- CLI calls tile processes on the server node directly via Registry (transparent cross-node calls)\n\n### Commands (mix tasks)\n- `mix undercity.server --name my_server` — starts the core, boots tiles/registry/supervisor, prints server info\n- `mix undercity.join --server my_server --player lewis` — connects to server node, spawns player on starting tile, enters game loop\n- Multiple players: each opens a new terminal and runs the join command\n\n### CLI Client Behavior\n- On join: connects to server node, prompts for player name (or passed via --player flag), spawns on starting tile, tells tile to add player\n- Holds local state: current tile name\n- Sends commands to tile GenServers on the server node via Registry\n- On disconnect: tells current tile to remove player\n\n### Future Improvements\n- Move from mix tasks to escript for a standalone binary (`./undercity server`, `./undercity join`)\n- Explore the named node approach further once MVP is working\n- Server name/key typed by player on CLI startup to connect to a specific server","status":"closed","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:04:19.6461192+10:00","created_by":"Lewis Reid","updated_at":"2026-01-31T00:09:18.4010336+10:00","closed_at":"2026-01-31T00:09:18.4010336+10:00","close_reason":"Closed"}
{"id":"undercity-ncy","title":"Configure Credo for static code analysis","notes":"Credo 1.7.16 added to root mix.exs deps (dev/test only). Deps fetched and credo runs successfully. Two minor readability issues flagged: missing @moduledoc on Mix.Tasks.Undercity.Server and Mix.Tasks.Undercity.Join — these are expected and can be addressed with qjl or ignored for mix tasks. Still needs: commit and review before closing. TODO: Fix the 2 current credo issues as part of this task so we start with a clean credo run.","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-01T10:18:32.758919+10:00","created_by":"Lewis Reid","updated_at":"2026-02-01T22:09:48.2179586+10:00","closed_at":"2026-02-01T22:09:48.2179586+10:00","close_reason":"Credo configured, mix lint alias added, line endings normalized with .gitattributes"}
{"id":"undercity-ntf","title":"Fix mix/elixir commands in Claude Code shell","description":"mix and elixir commands run silently with no output in the Claude Code bash environment, despite Elixir being installed at C:\\Program Files\\Elixir\\bin\\elixir. Need to diagnose and fix so we can run mix commands to scaffold the project. Acceptance criteria: running 'mix --help' produces expected output.","status":"closed","priority":0,"issue_type":"bug","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:20:59.4263568+10:00","created_by":"Lewis Reid","updated_at":"2026-01-31T00:25:14.6848357+10:00","closed_at":"2026-01-31T00:25:14.6848357+10:00","close_reason":"Use mix.bat/elixir.bat instead of extensionless scripts in MSYS2/Git Bash. Documented in CLAUDE.md."}
{"id":"undercity-o5h","title":"Epic: Initial project setup and requirements gathering","description":"Establish the foundation for undercity - a browser-based text game with limited action points that restock over time. This epic covers defining core requirements, choosing the tech stack, and scaffolding the initial CLI-based project.","status":"closed","priority":1,"issue_type":"feature","owner":"lreidwilliams@gmail.com","created_at":"2026-01-30T22:59:54.1405341+10:00","created_by":"Lewis Reid","updated_at":"2026-02-01T22:46:08.4548328+10:00","closed_at":"2026-02-01T22:46:08.4548328+10:00","close_reason":"All sub-tasks complete: branching convention, dev tooling, boilerplate cleanup.","dependencies":[{"issue_id":"undercity-o5h","depends_on_id":"undercity-67e","type":"blocks","created_at":"2026-01-31T01:04:41.4513664+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-o5h","depends_on_id":"undercity-chi","type":"blocks","created_at":"2026-01-31T01:04:41.9432452+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-o5h","depends_on_id":"undercity-qjl","type":"blocks","created_at":"2026-01-31T01:04:42.4964124+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-ovm","title":"Define core game mechanics and requirements","description":"Document the initial game design: action point system (how many, restock rate, what spends them), core gameplay loop, what a player can do per turn, win/loss conditions if any, and the general theme/setting of undercity. Output: a requirements doc or design notes we can reference.","notes":"## Core Game Mechanics\n\n### World / Map\n- Fixed 10x10 grid, expandable later\n- Each tile has a biome (field, road, river, ruins, forest, village, etc.)\n- Each tile has one structure/feature (building, fountain, well, shrine, etc.) — interactable\n- Players can modify structures (barricade, graffiti, loot) but not build new ones\n- Modifications persist for all players, may decay over time (TBD)\n- 9-tile visibility bubble (current tile + 8 adjacent)\n- Multiple players per tile — see names on your tile and adjacent tiles\n- Can target other players for actions (attack, heal, etc.)\n- Zombies occupy tiles like players, roam via a slow background behavior loop (TBD)\n\n### Actions \u0026 AP System\n- All actions have an AP cost (variable per action, tunable)\n- Moving costs AP — traversal is a meaningful decision\n- Some actions may be free (viewing, reading — TBD)\n- AP recharges on a time-based drip, no other sources initially\n- Exact numbers (pool size, recharge rate, action costs) left flexible for tuning\n- Target pacing: ~30 min daily session\n\n### Player State\n- HP pool (values TBD)\n- Permadeath — dead players become AI zombies on their death tile\n- No hunger/thirst for now\n- Inventory with limited slots (count TBD)\n- No skills/abilities initially, future addition\n\n### Items \u0026 Economy\n- Item types: weapons, armor/clothing, medical, crafting materials, consumables\n- No durability initially\n- Player-to-player trading only — simple give/receive\n- Loot tables per tile biome\n- Structures have their own loot tables\n- No formal currency — barter/emergent economy\n\n### Combat\n- Action-based: use [weapon] on [target], costs AP\n- PvP always on, same tile required\n- PvE identical mechanically\n- Resolution: % to hit \u003e % to save \u003e damage (Warhammer-style)\n- Weapons have stats (hit chance, damage)\n- Instant permadeath, dead player becomes AI zombie","status":"closed","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-30T23:00:18.1548898+10:00","created_by":"Lewis Reid","updated_at":"2026-01-30T23:34:09.5446978+10:00","closed_at":"2026-01-30T23:34:09.5446978+10:00","close_reason":"Closed"}
{"id":"undercity-qjl","title":"Clean up generated boilerplate from umbrella project","description":"Go through all generated files from mix new and remove placeholder comments, unused README files in sub-apps, default doctest modules, and any other fluff. Keep the project barebones and clean.","status":"closed","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:33:29.881081+10:00","created_by":"Lewis Reid","updated_at":"2026-02-01T22:33:41.1787648+10:00","closed_at":"2026-02-01T22:33:41.1787648+10:00","close_reason":"Removed all generated boilerplate: hello/0 placeholders, doctests, generated comments, sample configs, example deps. Updated sub-app READMEs."}
{"id":"undercity-r2m","title":"Restructure umbrella: separate domain (core) from server","description":"Separate domain logic from OTP server infrastructure:\n\n1. Rename undercity_core -\u003e undercity_server\n   - Rename apps/undercity_core directory to apps/undercity_server\n   - Update module names: UndercityCore -\u003e UndercityServer\n   - Update mix.exs app name and module references\n   - Update undercity_cli dependency\n\n2. Create new undercity_core as pure domain app\n   - mix new apps/undercity_core (no --sup flag, no application)\n   - This will hold domain structs (Area, Player, Item, etc.) and pure functions\n   - No OTP dependencies, no GenServer, no supervision\n\n3. Add dependency from undercity_server -\u003e undercity_core\n   - undercity_server/mix.exs depends on {:undercity_core, in_umbrella: true}\n   - Server delegates to domain functions\n\nThis establishes compile-time enforcement of the domain/infrastructure boundary.","status":"closed","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-04T22:38:24.1176612+10:00","created_by":"Lewis Reid","updated_at":"2026-02-04T23:26:31.9432389+10:00","closed_at":"2026-02-04T23:26:31.9432389+10:00","close_reason":"Restructured umbrella: undercity_core is now pure domain, undercity_server has OTP/GenServer. Server task moved to own its app. Branch r2m-restructure-umbrella pushed."}
{"id":"undercity-rjp","title":"Persistence - server state survives restarts","status":"open","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-05T16:37:21.9494011+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T16:37:21.9494011+10:00","dependencies":[{"issue_id":"undercity-rjp","depends_on_id":"undercity-mer","type":"blocks","created_at":"2026-02-05T16:37:37.9055257+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-rjp","depends_on_id":"undercity-uju","type":"parent-child","created_at":"2026-02-06T00:31:07.8609912+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-rw0","title":"Write 3x3 map content (tile names, biomes, descriptions)","description":"Author the actual game content for the 9 tiles in the 3x3 grid: unique names, biomes, and flavour text descriptions. Setting is a dark medieval zombie apocalypse (tone of Berserk / Between Two Fires — grim, grounded, not heroic). Biome types include field, road, river, ruins, forest, village, etc. Each tile should feel distinct. This is the creative/data side that feeds into the WorldMap config module.","status":"closed","priority":2,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:56:21.0589536+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T16:43:09.2889713+10:00","closed_at":"2026-02-05T16:43:09.2889713+10:00","close_reason":"Deleting pre-uju subtasks - will re-plan 4ah after uju establishes foundation","dependencies":[{"issue_id":"undercity-rw0","depends_on_id":"undercity-4ah","type":"parent-child","created_at":"2026-02-06T00:32:05.5702786+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-shm","title":"Set up Elixir umbrella project structure","description":"Create an Elixir umbrella project with two apps: undercity_core (game logic, OTP) and undercity_cli (CLI client). Configure mix project, deps, and directory structure.\n\n## Acceptance Criteria\n- Elixir umbrella project with undercity_core and undercity_cli apps\n- undercity_cli depends on undercity_core\n- `mix undercity.server --name my_server` outputs \"TODO: server my_server\"\n- `mix undercity.join --server my_server --player lewis` outputs \"TODO: connect to my_server as lewis\"\n- README with steps to install Elixir deps and run both commands\n- Project compiles and tests pass","status":"closed","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-30T23:42:03.0243963+10:00","created_by":"Lewis Reid","updated_at":"2026-01-31T00:37:31.5183698+10:00","closed_at":"2026-01-31T00:37:31.5183698+10:00","close_reason":"Closed","dependencies":[{"issue_id":"undercity-shm","depends_on_id":"undercity-yiz","type":"blocks","created_at":"2026-01-30T23:42:32.5053261+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-shm","depends_on_id":"undercity-lta","type":"blocks","created_at":"2026-01-30T23:42:38.5764775+10:00","created_by":"Lewis Reid"},{"issue_id":"undercity-shm","depends_on_id":"undercity-ntf","type":"blocks","created_at":"2026-01-31T00:21:08.9688853+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-tnr","title":"Scaffold project structure and tooling","description":"Initialize the project with the chosen language/stack. Set up: package manager, build tooling, linting, basic folder structure, and a hello-world CLI entry point that confirms everything runs. This is the foundation all future code builds on.","status":"closed","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-30T23:00:41.305961+10:00","created_by":"Lewis Reid","updated_at":"2026-01-30T23:47:11.3212973+10:00","closed_at":"2026-01-30T23:47:11.3212973+10:00","close_reason":"Superseded by undercity-shm (umbrella project setup) and undercity-chi (dev tooling)","dependencies":[{"issue_id":"undercity-tnr","depends_on_id":"undercity-ayb","type":"blocks","created_at":"2026-01-30T23:02:25.4849779+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-uju","title":"Entering the world","status":"open","priority":1,"issue_type":"feature","owner":"lreidwilliams@gmail.com","created_at":"2026-02-01T22:46:21.0675286+10:00","created_by":"Lewis Reid","updated_at":"2026-02-06T00:34:32.3382504+10:00"}
{"id":"undercity-v04","title":"Create cool connecting spinner for CLI","description":"Add a visually appealing animated spinner to display while the CLI is connecting to the server. Inspired by Claude Code's TUI aesthetics - should feel polished and 'swaggy'.","design":"## Design: Smooth Braille + Color Pulse + Dynamic Text\n\n### Visual Elements\n1. **Braille dot spinner** (⠋⠙⠹⠸⠼⠴⠦⠧⠇⠏) - smooth, modern feel\n2. **Color cycling** - magenta → cyan → blue → magenta (neon underground vibe)\n3. **Thematic status messages** that rotate:\n   - Establishing connection...\n   - Descending into the undercity...\n   - Tunneling through...\n   - Emerging... (on success)\n4. **Retry feedback** - show attempt number subtly on retries\n\n### States\n- **Success:** ✓ Connected to [server] as [player] (green/cyan)\n- **Failure:** ✗ Could not reach the undercity (red/magenta)\n\n### Architecture\n- Create Spinner module in undercity_cli\n- Runs in separate process (animates during connection retries)\n- Uses Bunt for ANSI colors\n- Simple API: Spinner.start/1, Spinner.update/1, Spinner.stop/1","status":"closed","priority":0,"issue_type":"feature","owner":"lreidwilliams@gmail.com","created_at":"2026-02-05T23:02:20.1501984+10:00","created_by":"Lewis Reid","updated_at":"2026-02-06T00:22:59.5191564+10:00","closed_at":"2026-02-06T00:22:59.5191564+10:00","close_reason":"Implemented rotating cross spinner with gothic themed messages, smooth 24-bit text color pulsing, and muted color palette"}
{"id":"undercity-v04.1","title":"Add gritty fantasy message cycling","description":"Replace static 'Establishing connection' with 10 thematic messages in a gritty fantasy style (Between Two Fires / Berserk tone). Cycle every ~2 seconds. Randomize starting message so it doesn't always begin the same.","status":"closed","priority":0,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-05T23:29:10.9478974+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T23:32:07.4072131+10:00","closed_at":"2026-02-05T23:32:07.4072131+10:00","close_reason":"Closed","dependencies":[{"issue_id":"undercity-v04.1","depends_on_id":"undercity-v04","type":"parent-child","created_at":"2026-02-05T23:29:10.9512077+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-v04.2","title":"Add subtle text color pulsing","description":"Make the message text gradually pulse between the current spinner color and a few steps toward the success cyan/blue. Should be very gradual and subtle - a gentle glow effect like Claude Code's loading text.","status":"closed","priority":0,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-05T23:29:17.5652669+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T23:32:07.4215596+10:00","closed_at":"2026-02-05T23:32:07.4215596+10:00","close_reason":"Closed","dependencies":[{"issue_id":"undercity-v04.2","depends_on_id":"undercity-v04","type":"parent-child","created_at":"2026-02-05T23:29:17.5680533+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-v04.3","title":"Simplify failure message","description":"Change spinner failure message from 'Could not reach the undercity' to 'Could not reach the server'. Remove the verbose Mix.raise error message that follows.","status":"closed","priority":0,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-05T23:29:23.8788425+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T23:32:07.4368466+10:00","closed_at":"2026-02-05T23:32:07.4368466+10:00","close_reason":"Closed","dependencies":[{"issue_id":"undercity-v04.3","depends_on_id":"undercity-v04","type":"parent-child","created_at":"2026-02-05T23:29:23.881008+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-xq0","title":"Connect to server from CLI","description":"Implement basic client-server connection. The CLI sends a connect request to the server and the server responds with its name. The CLI should display 'Connected to python2.7' where python2.7 is provided by the server.","status":"closed","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-01T22:50:54.9640458+10:00","created_by":"Lewis Reid","updated_at":"2026-02-02T01:03:20.9822647+10:00","closed_at":"2026-02-02T01:03:20.9822647+10:00","close_reason":"Implemented client-server connection via Erlang distribution with :global registration. Server GenServer, connect/2 client entrypoint, error handling, unit tests, README updated.","dependencies":[{"issue_id":"undercity-xq0","depends_on_id":"undercity-uju","type":"parent-child","created_at":"2026-02-06T00:31:08.4277119+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-xtt","title":"Investigate Mix.shell().info vs IO.puts in Elixir","description":"Research the difference between Mix.shell().info and IO.puts (or other stdio functions) in Elixir. When should each be used? Document findings in the task notes.","status":"open","priority":3,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-31T00:44:29.9857282+10:00","created_by":"Lewis Reid","updated_at":"2026-01-31T00:44:29.9857282+10:00"}
{"id":"undercity-yeh","title":"Add thematic messages and retry feedback","description":"Add rotating status messages (Establishing connection, Descending into the undercity, Tunneling through, etc.) and subtle retry attempt display","status":"closed","priority":0,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-02-05T23:07:14.133496+10:00","created_by":"Lewis Reid","updated_at":"2026-02-05T23:12:43.4101435+10:00","closed_at":"2026-02-05T23:12:43.4101435+10:00","close_reason":"Spinner module created with braille animation, color cycling, thematic messages, and retry feedback","dependencies":[{"issue_id":"undercity-yeh","depends_on_id":"undercity-v04","type":"parent-child","created_at":"2026-02-05T23:15:51.6686346+10:00","created_by":"Lewis Reid"}]}
{"id":"undercity-yiz","title":"Define client-core interface/API","description":"Design the boundary between the core game engine and client frontends. Determine how the CLI (and later web) client communicates with the core — direct function calls, message passing, or network protocol. This shapes the umbrella app structure.","notes":"## Client-Core Interface Decision\n\n### Architecture\n- Elixir umbrella project with separate apps: undercity_core and undercity_cli\n- undercity_cli depends on undercity_core, never the reverse\n- Core exposes a public API facade module — the boundary clients call into\n- Internals (GenServers, processes) are hidden behind the facade\n\n### Phase 1 (CLI)\n- Direct function calls via the facade module (Option A)\n- CLI and core run in the same BEAM node\n- Simplest to start, no network overhead\n\n### Phase 2 (multi-client / persistence)\n- Move to message passing (Option B)\n- Core runs as a standalone server node\n- CLI clients connect to the running node from separate terminals\n- Multiple simultaneous players via separate terminal sessions\n- Public API surface stays conceptually the same\n\n### Deferred\n- Concrete API actions to be defined in MVP requirements task\n- Network protocol (Option C) not needed — BEAM distribution handles node-to-node comms","status":"closed","priority":1,"issue_type":"task","owner":"lreidwilliams@gmail.com","created_at":"2026-01-30T23:42:08.9788048+10:00","created_by":"Lewis Reid","updated_at":"2026-01-30T23:51:18.6650902+10:00","closed_at":"2026-01-30T23:51:18.6650902+10:00","close_reason":"Closed"}
